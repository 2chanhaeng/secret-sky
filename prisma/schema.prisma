generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgres"
  url       = env("DATABASE_URL")
  directUrl = env("DIRECT_URL")
}

model Key {
  id   String @id
  priv String @unique
  pub  String @unique
}

model List {
  id     String @id
  list   String @unique
  privId String @unique
  pubId  String @unique
  Priv   Priv   @relation(fields: [privId], references: [id])
  Pub    Pub    @relation(fields: [pubId], references: [id])
  Post   Post[]
}

model Priv {
  id   String @id
  d    String
  dp   String
  dq   String
  n    String
  p    String
  q    String
  qi   String
  List List?
}

model Pub {
  id   String @id
  n    String
  List List?
}

model Secret {
  id   String  @id
  list String
  uri  String? @unique
}

model Post {
  id     String  @id
  uri    String? @unique
  listId String
  list   List    @relation(fields: [listId], references: [id])
}
